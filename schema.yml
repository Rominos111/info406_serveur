openapi: 3.0.0
info:
    description: "**INFO406 G4 API du logiciel de gestion de ressource**\n\nSujet de projet de programmation."
    version: "Version 2 Build #23"
    title: INFO406 - G4 API

servers:
    - url: https://api.ythepaut.com/g4/actions
      description: Serveur de développement
    - url: http://os-vps418.infomaniak.ch/etu_info/l2_gr_4/actions
      description: Serveur de production

paths:
    "/auth/connect":
        post:
            summary: Acquisition des jetons
            parameters:
                - name: username
                  in: query
                  description: Nom d'utilisateur à authentifier
                  required: true
                  schema:
                    type: string
                - name: passwd
                  in: query
                  description: Mot de passe de l'utilisateur à authentifier
                  required: true
                  schema:
                    type: string
            responses:
                '200':
                    description: Authentification réussie et jetons créés avec succès.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            requests-token:
                                                type: object
                                                description: JWT servant à faire des requêtes
                                                properties:
                                                    value:
                                                        type: string
                                                        description: JWT
                                                    expire:
                                                        type: integer
                                                        description: Expiration du JWT
                                            renew-token:
                                                type: object
                                                description: JWT servant à renouveler le jeton de requêtes
                                                properties:
                                                    value:
                                                        type: string
                                                        description: JWT
                                                    expire:
                                                        type: integer
                                                        description: Expiration du JWT
                '403':
                    description: Authentification échouée.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '400':
                    description: Argument manquant.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'

    "/auth/verify":
        post:
            summary: Verification du jeton
            parameters:
                - name: token
                  in: query
                  description: JWT à verifier
                  required: true
                  schema:
                    type: string
            responses:
                '200':
                    description: Jeton valide.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            control:
                                                type: object
                                                description: Informations sur le jeton
                                                properties:
                                                    iat:
                                                        type: integer
                                                        description: Date d'emission du jeton
                                                    ip:
                                                        type: string
                                                        description: Adresse IP du requérant
                                            user:
                                                type: object
                                                description: Informations sur le jeton
                                                properties:
                                                    id:
                                                        type: integer
                                                        descrption: ID de l'utilisateur
                                                    username:
                                                        type: string
                                                        descrption: Nom d'utilisateur
                                                    email:
                                                        type: string
                                                        descrption: Email de l'utilisateur
                                                    status:
                                                        type: string
                                                        descrption: Statut du compte de l'utilisateur
                                                    id_h_resource:
                                                        type: integer
                                                        descrption: ID de la ressource associée
                '401':
                    description: Jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '400':
                    description: Argument manquant.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'

    "/auth/renew":
        post:
            summary: Renouvellement du jeton de requêtes
            parameters:
                - name: token
                  in: query
                  description: Jeton de renouvellement
                  required: true
                  schema:
                    type: string
            responses:
                '200':
                    description: Renouvellement du jeton de requête effectué.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            requests-token:
                                                type: object
                                                description: JWT servant à faire des requêtes
                                                properties:
                                                    value:
                                                        type: string
                                                        description: JWT
                                                    expire:
                                                        type: integer
                                                        description: Expiration du JWT
                '400':
                    description: Argument manquant.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '401':
                    description: Jeton de renouvellement invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '403':
                    description: Utilisateur suspendu.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Aucun utilisateur associé. (Erreur interne).
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/project/create":
        post:
            summary: Creation d'un projet
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: name
                  in: query
                  description: Nom du projet
                  required: true
                  schema:
                    type: string
                - name: description
                  in: query
                  description: Description du projet
                  required: false
                  schema:
                    type: string
                - name: deadline
                  in: query
                  description: Date limite du projet
                  required: false
                  schema:
                    type: integer
                - name: status
                  in: query
                  description: Statut initial du projet
                  required: false
                  schema:
                    type: string
            responses:
                '200':
                    description: Projet créé.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            project:
                                                type: object
                                                description: Données du projet qui a été créé
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: ID du projet
                                                    name:
                                                        type: string
                                                        description: Nom du projet
                                                    description:
                                                        type: string
                                                        description: Description du projet
                                                    deadline:
                                                        type: integer
                                                        description: Date limite du projet
                                                    status:
                                                        type: string
                                                        description: Statut du projet
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/project/list":
        post:
            summary: Liste des projets
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
            responses:
                '200':
                    description: Projets listés.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            projects:
                                                type: array
                                                description: Liste des projets
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/project/get":
        post:
            summary: Acquisition d'un projet
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: id
                  in: query
                  description: ID du projet
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Projet acquis.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            project:
                                                type: object
                                                description: Données du projet qui a été créé
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: ID du projet
                                                    name:
                                                        type: string
                                                        description: Nom du projet
                                                    description:
                                                        type: string
                                                        description: Description du projet
                                                    deadline:
                                                        type: integer
                                                        description: Date limite du projet
                                                    status:
                                                        type: string
                                                        description: Statut du projet
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Projet introuvable.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/project/alloc":
        post:
            summary: Allocation d'une ressource
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: project
                  in: query
                  description: ID du projet
                  required: true
                  schema:
                    type: integer
                - name: type
                  in: query
                  description: Type de ressource
                  required: true
                  schema:
                    type: enum
                - name: id
                  in: query
                  description: ID de la ressource
                  required: true
                  schema:
                    type: integer
                - name: start
                  in: query
                  description: Date de debut
                  required: false
                  schema:
                    type: integer
                - name: end
                  in: query
                  description: Date de fin
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Ressource allouée au projet.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Projet introuvable.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/project/unalloc":
        post:
            summary: Retirer allocation d'une ressource
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: project
                  in: query
                  description: ID du projet
                  required: true
                  schema:
                    type: integer
                - name: type
                  in: query
                  description: Type de ressource
                  required: true
                  schema:
                    type: enum
                - name: id
                  in: query
                  description: ID de la ressource
                  required: true
                  schema:
                    type: integer
                - name: date
                  in: query
                  description: Date comprise dans l'intervalle allocation
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Ressource retirée projet.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Allocation introuvable.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/project/alloclist":
        post:
            summary: Liste des allocations du projet
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: project
                  in: query
                  description: ID du projet
                  required: true
                  schema:
                    type: integer
                - name: date
                  in: query
                  description: Date comprise dans l'intervalle allocation
                  required: false
                  schema:
                    type: integer
            responses:
                '200':
                    description: Ressources du projet listées
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête

                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Projet introuvable.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/resource/h/create":
        post:
            summary: Creation d'une ressource humaine
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: email
                  in: query
                  description: Adresse e-mail de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: firstname
                  in: query
                  description: Prenom de la ressource
                  required: false
                  schema:
                    type: string
                - name: lastname
                  in: query
                  description: Nom de la ressource
                  required: false
                  schema:
                    type: string
                - name: job
                  in: query
                  description: Metier de la ressource
                  required: false
                  schema:
                    type: string
                - name: role
                  in: query
                  description: Role de la ressource
                  required: false
                  schema:
                    type: string
            responses:
                '200':
                    description: Ressource humaine et utilisateur créés
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            h_resource:
                                                type: object
                                                description: Données de la ressource humaine qui a été créée
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: ID de la ressource
                                                    firstname:
                                                        type: string
                                                        description: Prenom de la ressource
                                                    lastname:
                                                        type: string
                                                        description: Nom de la ressource
                                                    job:
                                                        type: string
                                                        description: Metier de la ressource
                                                    role:
                                                        type: string
                                                        description: Role de la ressource
                                                    description:
                                                        type: string
                                                        description: Description de la ressource
                                            user:
                                                type: object
                                                description: Données de l'utilisateur qui a été créé
                                                properties:
                                                    id:
                                                        type: integer
                                                        descrption: ID de l'utilisateur
                                                    username:
                                                        type: string
                                                        descrption: Nom d'utilisateur
                                                    email:
                                                        type: string
                                                        descrption: Email de l'utilisateur
                                                    status:
                                                        type: string
                                                        descrption: Statut du compte de l'utilisateur
                                                    id_h_resource:
                                                        type: integer
                                                        descrption: ID de la ressource associée
                                                    passwd:
                                                        type: string
                                                        descrption: Mot de passe de l'utilisateur
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Aucun utilisateur associé. (Erreur interne).
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/resource/h/list":
        post:
            summary: Liste des ressources humaines
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
            responses:
                '200':
                    description: Ressources humaines listées.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            projects:
                                                type: array
                                                description: Liste des ressources
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/resource/h/get":
        post:
            summary: Acquisition d'une ressource humaine
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: id
                  in: query
                  description: ID dela ressource demandée
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Ressource humaine acquise
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            id:
                                                type: integer
                                                description: ID de la ressource
                                            firstname:
                                                type: string
                                                description: Prenom de la ressource
                                            lastname:
                                                type: string
                                                description: Nom de la ressource
                                            job:
                                                type: string
                                                description: Metier de la ressource
                                            role:
                                                type: string
                                                description: Role de la ressource
                                            description:
                                                type: string
                                                description: Description de la ressource
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Ressource non trouvée.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/resource/m/create":
        post:
            summary: Creation d'une ressource matérielle
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: name
                  in: query
                  description: Nom de la ressource
                  required: true
                  schema:
                    type: string
            responses:
                '200':
                    description: Ressource matérielle créée.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            m_resource:
                                                type: object
                                                description: Données de la matérielle matérielle qui a été créée
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: ID de la ressource
                                                    name:
                                                        type: string
                                                        description: Nom de la ressource
                                                    description:
                                                        type: string
                                                        description: Description de la ressource
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/resource/m/list":
        post:
            summary: Liste des ressources matérielles
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
            responses:
                '200':
                    description: Ressources matérielles listées.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            projects:
                                                type: array
                                                description: Liste des ressources
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/resource/m/get":
        post:
            summary: Acquisition d'une ressource matérielle
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: id
                  in: query
                  description: ID dela ressource demandée
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Ressource matérielle acquise.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            id:
                                                type: integer
                                                description: ID de la ressource
                                            name:
                                                type: string
                                                description: Nom de la ressource
                                            description:
                                                type: string
                                                description: Description de la ressource
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Ressource non trouvée.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/task/create":
        post:
            summary: Création d'une tâche
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: name
                  in: query
                  description: Titre de la tâche
                  required: true
                  schema:
                    type: string
                - name: description
                  in: query
                  description: Description de la tâche
                  required: false
                  schema:
                    type: string
                - name: status
                  in: query
                  description: Statut initial de la tâche
                  required: false
                  schema:
                    type: string
                - name: deadline
                  in: query
                  description: Date limite de la tâche
                  required: false
                  schema:
                    type: integer
                - name: project
                  in: query
                  description: ID du projet à rattacher à la tâche
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Tâche créée.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            task:
                                                type: object
                                                description: Données de la tâche qui a été créée
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: ID de la tâche
                                                    name:
                                                        type: string
                                                        description: Nom de la tâche
                                                    description:
                                                        type: string
                                                        description: Description de la tâche
                                                    status:
                                                        type: string
                                                        description: Statut du projet
                                                    deadline:
                                                        type: integer
                                                        description: Date limite de la tâche
                                                    project:
                                                        type: integer
                                                        description: ID du projet associé à la tâche
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Projet associé non trouvé.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/task/list":
        post:
            summary: Liste des tâches
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: project
                  in: query
                  description: Filtre par ID de projet
                  required: false
                  schema:
                    type: integer
            responses:
                '200':
                    description: Tâches listés.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            projects:
                                                type: array
                                                description: Liste des tâches
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/task/get":
        post:
            summary: Acquisition d'une tâche
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: id
                  in: query
                  description: ID de la tâche
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Tâche acquise.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            task:
                                                type: object
                                                description: Données de la tâche qui a été créée
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: ID de la tâche
                                                    name:
                                                        type: string
                                                        description: Nom de la tâche
                                                    description:
                                                        type: string
                                                        description: Description de la tâche
                                                    status:
                                                        type: string
                                                        description: Statut du projet
                                                    deadline:
                                                        type: integer
                                                        description: Date limite de la tâche
                                                    project:
                                                        type: integer
                                                        description: ID du projet associé à la tâche
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Tâche introuvable.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/timeslot/create":
        post:
            summary: Creation d'un créneau
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: start
                  in: query
                  description: Date de début
                  required: true
                  schema:
                    type: integer
                - name: end
                  in: query
                  description: Date de fin
                  required: true
                  schema:
                    type: integer
                - name: task
                  in: query
                  description: Tâche associée au créneau
                  required: true
                  schema:
                    type: integer
                - name: room
                  in: query
                  description: Salle associée au créneau
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Créneau créé.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            timeslot:
                                                type: object
                                                description: Données du créneau qui a été créé
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: ID du créneau
                                                    start:
                                                        type: integer
                                                        description: Date de début
                                                    end:
                                                        type: integer
                                                        description: Date de fin
                                                    task:
                                                        type: integer
                                                        description: Tâche associée au créneau
                                                    room:
                                                        type: integer
                                                        description: Salle associée au créneau
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/timeslot/list":
        post:
            summary: Liste des créneaux
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: from
                  in: query
                  description: Filtre date de from à to
                  required: false
                  schema:
                    type: integer
                - name: to
                  in: query
                  description: Filtre date de from à to
                  required: false
                  schema:
                    type: integer
                - name: project
                  in: query
                  description: Filtre par projet
                  required: false
                  schema:
                    type: integer
                - name: task
                  in: query
                  description: Filtre par tâche
                  required: false
                  schema:
                    type: integer
                - name: hresource
                  in: query
                  description: Filtre par ressource humaine
                  required: false
                  schema:
                    type: integer
            responses:
                '200':
                    description: Créneaux listés.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            projects:
                                                type: array
                                                description: Liste des créneaux
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/timeslot/get":
        post:
            summary: Acquisition d'un créneau
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: id
                  in: query
                  description: ID du créneau
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Créneau acquis.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            timeslot:
                                                type: object
                                                description: Données du créneau acquis
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: ID du créneau
                                                    start:
                                                        type: integer
                                                        description: Date de début
                                                    end:
                                                        type: integer
                                                        description: Date de fin
                                                    task:
                                                        type: integer
                                                        description: Tâche associée au créneau
                                                    room:
                                                        type: integer
                                                        description: Salle associée au créneau
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/timeslot/delete":
        post:
            summary: Suppression d'un créneau
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: id
                  in: query
                  description: ID du créneau à supprimer
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Créneau supprimé.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/room/create":
        post:
            summary: Creation d'une salle
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: number
                  in: query
                  description: Numéro de salle
                  required: true
                  schema:
                    type: integer
                - name: type
                  in: query
                  description: Type de salle
                  required: false
                  schema:
                    type: enum
                - name: seats
                  in: query
                  description: Nombre de places
                  required: false
                  schema:
                    type: integer
                - name: computers
                  in: query
                  description: Nombre d'ordinateurs
                  required: false
                  schema:
                    type: integer
            responses:
                '200':
                    description: Salle créée.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            room:
                                                type: object
                                                description: Données de la salle qui a été créée
                                                properties:
                                                    number:
                                                        type: integer
                                                        description: Numéro de la salle
                                                    type:
                                                        type: enum
                                                        description: Type de salle
                                                    seats:
                                                        type: integer
                                                        description: Nombre de places
                                                    computers:
                                                        type: integer
                                                        description: Nombre d'ordinateurs
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/room/list":
        post:
            summary: Liste des salles
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
            responses:
                '200':
                    description: Salles listées.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            projects:
                                                type: array
                                                description: Liste des salles
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/room/get":
        post:
            summary: Acquisition d'une salle
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: number
                  in: query
                  description: Numero de la salle
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Salle acquise.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            room:
                                                type: object
                                                description: Données de la salle
                                                properties:
                                                    number:
                                                        type: integer
                                                        description: Numéro de la salle
                                                    type:
                                                        type: enum
                                                        description: Type de salle
                                                    seats:
                                                        type: integer
                                                        description: Nombre de places
                                                    computers:
                                                        type: integer
                                                        description: Nombre d'ordinateurs
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Salle introuvable.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/message/create":
        post:
            summary: Creation d'un message
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: content
                  in: query
                  description: Contenu du message
                  required: true
                  schema:
                    type: string
                - name: destination
                  in: query
                  description: Type de destination du message
                  required: true
                  schema:
                    type: enum
                - name: id
                  in: query
                  description: ID destination du message
                  required: true
                  schema:
                    type: integer
            responses:
                '200':
                    description: Message créé.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            message:
                                                type: object
                                                description: Données du message qui a été créé
                                                properties:
                                                    id:
                                                        type: integer
                                                        description: ID du message
                                                    content:
                                                        type: string
                                                        description: Contenu du message
                                                    date:
                                                        type: integer
                                                        description: Date de création du message
                                                    sourceId:
                                                        type: string
                                                        description: ID source du message
                                                    destination:
                                                        type: enum
                                                        description: Type de destination du message
                                                    destinationId:
                                                        type: string
                                                        description: ID destination du message
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Permissions insuffisantes ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Destination introuvable.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'

    "/message/list":
        post:
            summary: Liste des messages
            parameters:
                - name: token
                  in: query
                  description: JWT de l'utilisateur
                  required: true
                  schema:
                    type: string
                - name: origin
                  in: query
                  description: Type de d'origine
                  required: true
                  schema:
                    type: enum
                - name: id
                  in: query
                  description: ID de l'origine
                  required: true
                  schema:
                    type: integer
                - name: page
                  in: query
                  description: Pagination
                  required: false
                  schema:
                    type: integer
            responses:
                '200':
                    description: Messages listés.
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    status:
                                        type: string
                                        description: Statut de la requête
                                    code:
                                        type: string
                                        description: Code de la requête
                                    message:
                                        type: string
                                        description: Message verbeux
                                    content:
                                        type: object
                                        description: Contenu de la requête
                                        properties:
                                            projects:
                                                type: array
                                                description: Liste des messages
                '400':
                    description: Argument manquant ou argument invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MissingArgument'
                '403':
                    description: Authentification requise ou jeton invalide.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'
                '404':
                    description: Origine introuvable.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DefaultContent'


components:
  schemas:
    DefaultContent:
      type: object
      properties:
        status:
            type: string
            description: Statut de la requête
        code:
            type: string
            description: Code de la requête
        message:
            type: string
            description: Message verbeux
        content:
            type: object
            description: Contenu de la requête
    MissingArgument:
      type: object
      properties:
        status:
            type: string
            description: Statut de la requête
        code:
            type: string
            description: Code de la requête
        message:
            type: string
            description: Message verbeux
        content:
            type: object
            description: Contenu de la requête
            properties:
                missing:
                    type: array
                    description: Liste des arguments manquants